<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Dashboard - SB Admin</title>
    <link href="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/style.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link href="css/styles.css" rel="stylesheet" />
    <link href="css/switch.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
    <!-- <script src="https://example.com/fontawesome/v5.15.4/js/all.js" data-keep-original-source="false"></script> -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400;1,500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-switch/4.0.0-alpha.1/css/bootstrap-switch.min.css">


    <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    

</head>
<style>
    body{
        font-family: 'Kanit', sans-serif;

    }
    .outer {
        position: relative;
        width: 100%;
        height: 231px;
    }

    .chart_kn {
        position: absolute;
    }

    .percent {
        position: absolute;
        left: 50%;
        transform: translate(-50%, 0);
        font-size: 60px;
        bottom: 0;
    }
</style>

<body class="sb-nav-fixed">
    <!-- <nav class="sb-topnav navbar navbar-expand navbar-dark bg-dark" style="background-color: #FBEDBE;"> -->
    <div class="d-flex" style="background-color: #FFA242;">

        <a href="#" class="btn ms-2" onclick="history.back()">
            <i class="fas fa-arrow-left fs-1 text-white"></i>
        </a>

        <h1 class="c_name mt-1 text-white"></h1>
        
    </div>

    <div class="d-flex flex-column justify-content-center align-items-center">
        <i class="fas fa-plug fa-5x mt-5 mb-2  text-warning "></i>
        <h3>สถานะอุปกรณ์ในโรงเรือน</h3>


    </div>

    <main>
        <div class="c_card_device">
            
        </div>
        
    </main>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        crossorigin="anonymous"></script>
    <script src="js/scripts.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js" crossorigin="anonymous"></script> -->
    <!-- <script src="assets/demo/chart-area-demo.js"></script>
    <script src="assets/demo/chart-bar-demo.js"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/umd/simple-datatables.min.js"
        crossorigin="anonymous"></script>
    <script src="js/datatables-simple-demo.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script src="js/bootstrap-switch/highlight.js"></script>
    <script src="js/bootstrap-switch/bootstrap-switch.js"></script>
    <script src="js/bootstrap-switch/main.js"></script>
    
    <script>
    var result = ''     
    var data_details = []
    $(document).ready(function () {
        func_card_device() 

      $.ajax({
        url: 'http://b2ercoding.servebeer.com:5853/test',
        headers: {
          'Content-Type': 'application/x-www-form-urlencoded'
        },
        type: "GET", /* or type:"GET" or type:"PUT" */
        dataType: "json",
        data: {
        },
        success: function (data_details) {
        data_card(data_details)   
        
        },
        error: function () {
          console.log("error");
        }
      });
    })
    

    </script>
    <script>

        


        function data_card(data_details){

            console.log("data_details", data_details);
            for (var i = 0; i < data_details.length; i++) {
            console.log(data_card)
            $('.c_name').html(data_card[i]['name']);

                
            
            }
       
            $('.c_card_home').html(str_card);
          
        }

        function func_card_device(){
            var data_device = [
            {
            "id_icon_device":"1",
            "name_device":"ปั๊มน้ำ",
            "status": "true",
            "count":"2",
            "time_onOff" :"12-01-2023",
            },
            {
            "id_icon_device":"2",
            "name_device":"ไฟ",
            "status": "false",
            "count":"10",
            "time_onOff" :"12-01-2023",
            },
            {
            "id_icon_device":"3",
            "name_device":"พัดลม",
            "status": "false",
            "count":"10",
            "time_onOff" :"12-01-2023",
            },
            {
            "id_icon_device":"4",
            "name_device":"Valve1",
            "status": "true",
            "count":"3",
            "time_onOff" :"12-01-2023",
            },
            {
            "id_icon_device":"4",
            "name_device":"Valve2",
            "status": "false",
            "count":"4",
            "time_onOff" :"12-01-2023",
            },
            ]  

            var str_card = ''
            for (var j = 0; j < data_device.length; j++) {
                str_card = str_card + '<div class="card shadow-sm m-4 border-0" style="background-color:#FF8800;border-radius: 20px;">\
                <div class="card-body p-2 ">\
                    <div class="d-flex w-100">\
                        <div class="d-flex w-25 justify-content-center align-items-center">\
                            <div class="">\
                                <i class="fas fa-faucet-drip text-white fa-3x"></i>\
                            </div>\
                        </div>\
                        <div class="d-flex w-50 justify-content-start">\
                            <div class="d-flex flex-column align-items-start w-100 ms-2">\
                                <span class="text-white " id="i_name_device">มีนบุรี</span>\
                                <h3 class="text-white c_name_device">123</h3>\
                                <div>\
                                    <i class="fas fa-clock text-white "></i>\
                                </div>\
                            </div>\
                        </div>\
                        <div class="d-flex w-25 justify-content-center align-items-center">\
                            <div class="form-check form-switch form-switch-lg form-check-warning ">\
                                <input class="form-check-input mt-4" type="checkbox" id="flexSwitchCheckChecked" checked>\
                                <label class="form-check-label" for="flexSwitchCheckChecked"></label>\
                            </div>\
                        </div>\
                    </div>\
                </div>\
            </div>'
            }
       
            $('.c_card_device').html(str_card);
        }
        

        
    </script>



</body>

</html>